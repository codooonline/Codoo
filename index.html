
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Codoo</title>
<style>
body {
  margin:0; font-family:system-ui,sans-serif;
  background:#0f0f0f; color:#eaeaea;
  overflow:hidden; height:100vh;
}

/* Intro */
#intro {
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  background:#0f0f0f; z-index:999;
  animation:introFade 3.2s forwards;
}
#intro h1 { font-size:48px; font-family:Consolas,monospace; }
.co { color:black; }
.doo { color:#00e5ff; }
@keyframes introFade {0%,80%{opacity:1;}100%{opacity:0; pointer-events:none;}}

/* App container */
#app { height:100vh; display:flex; flex-direction:column; transform:translateY(-100vh);
animation:dropIn 0.25s ease-out forwards; animation-delay:3s;}
@keyframes dropIn{to{transform:translateY(0);}}

/* Top bar */
.topbar { display:flex; align-items:center; padding:10px 14px; border-bottom:1px solid #222;}
.logo { font-size:18px; font-family:Consolas,monospace; font-weight:bold;}
.logo .co { color:black; } .logo .doo { color:#00e5ff; }
.actions { margin-left:auto; display:flex; gap:8px;}
.btn { background:#1a1a1a; color:#eaeaea; border:1px solid #333; padding:6px 12px; cursor:pointer;}
.btn:hover { background:#222;}

/* Editor */
#editor { flex:1; }

/* Run Panel */
#runPanel {
  position:fixed; inset:0; background:white;
  display:none; flex-direction:column; z-index:20;
  opacity:0; transition:opacity 0.3s;
}
#runPanel.show { display:flex; opacity:1; }
.run-header { background:#111; color:white; padding:8px; display:flex; justify-content:space-between; }
iframe { flex:1; border:none; }

/* Menu */
#menuBtn { background:#1a1a1a; color:white; font-size:20px; border:none; padding:6px 10px; cursor:pointer;}
#menuBtn:hover{ background:#222; }
#menu {
  position:fixed; top:0; left:0; width:250px; height:100%;
  background:#1a1a1a; display:none; flex-direction:column; padding:10px;
  overflow-y:auto; z-index:30; gap:10px;
}
.menu-header { font-weight:bold; color:#eaeaea; margin-bottom:10px; display:flex; align-items:center; gap:6px; }
.menu-group { margin-bottom:10px; }
.menu-group label { font-weight:bold; color:#eaeaea; display:block; margin-bottom:4px; }
.menu-group button {
  width:100%; padding:6px 8px; margin-bottom:4px;
  border:none; background:#222; color:white; cursor:pointer; border-radius:4px;
}
.menu-group button:hover { background:#333; }

/* Template floating panel */
#templatePanel {
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  width:80%; max-width:700px; background:#1a1a1a; border:2px solid #222; border-radius:6px;
  display:none; flex-direction:column; z-index:40; padding:12px; max-height:70%;
  overflow-y:auto; color:white;
}
#templatePanel .panel-header { display:flex; justify-content:space-between; margin-bottom:8px; }
#templatePanel .panel-header span { font-weight:bold; }
#templatePanel .panel-header button { cursor:pointer; border:none; background:#222; color:white; padding:4px 8px; border-radius:4px; }
#templatePanel .templates { display:grid; grid-template-columns:repeat(5,1fr); gap:6px; }
#templatePanel .templates button { padding:6px; border:none; border-radius:4px; background:#222; cursor:pointer; color:white; }
#templatePanel .templates button:hover { background:#333; }
</style>

<!-- Monaco Loader -->
<script src="https://unpkg.com/monaco-editor@0.45.0/min/vs/loader.js"></script>
</head>
<body>

<div id="intro">
  <h1><span class="co">Co</span><span class="doo">doo</span></h1>
</div>

<div id="app">
  <div class="topbar">
    <button id="menuBtn">&#9776;</button>
    <div class="logo"><span class="co">Co</span><span class="doo">doo</span></div>
    <div class="actions">
      <button class="btn" onclick="copyCode()">Copy</button>
      <button class="btn" onclick="runCode()">Run</button>
    </div>
  </div>
  <div id="editor"></div>
</div>

<div id="runPanel">
  <div class="run-header">
    <span>Output</span>
    <div>
      <button class="btn" onclick="document.getElementById('runPanel').requestFullscreen()">Fullscreen</button>
      <button class="btn" onclick="closeRun()">Close</button>
    </div>
  </div>
  <iframe id="output"></iframe>
</div>

<div id="menu">
  <div class="menu-header"><span>&lt;/&gt;</span> Templates</div>
  <div class="menu-group" id="htmlTemplates">
    <label>HTML</label>
    <button data-snippet="htmlBoiler">Boilerplate</button>
    <button data-snippet="htmlForm">Forms</button>
    <button data-snippet="htmlGrid">Grid</button>
    <button data-snippet="htmlButtons">Buttons</button>
    <button data-snippet="htmlTables">Tables</button>
  </div>
  <div class="menu-group" id="cssTemplates">
    <label>CSS</label>
    <button data-snippet="cssFlex">Flexbox</button>
    <button data-snippet="cssGrid">Grid</button>
    <button data-snippet="cssAnimation">Animation</button>
    <button data-snippet="cssButtons">Buttons</button>
    <button data-snippet="cssTheme">Theme</button>
  </div>
  <div class="menu-group" id="jsTemplates">
    <label>JS</label>
    <button data-snippet="jsEvents">Events</button>
    <button data-snippet="jsDOM">DOM</button>
    <button data-snippet="jsCalc">Calculator</button>
    <button data-snippet="jsTodo">To-Do</button>
    <button data-snippet="jsForm">Forms</button>
  </div>
</div>

<div id="templatePanel">
  <div class="panel-header">
    <span>Select Template</span>
    <button onclick="closeTemplatePanel()">Close</button>
  </div>
  <div class="templates" id="templateButtons"></div>
</div>

<script>
let editor;

// Monaco Editor init
require.config({ paths: { vs: 'https://unpkg.com/monaco-editor@0.45.0/min/vs' }});
require(['vs/editor/editor.main'], function () {
  editor = monaco.editor.create(document.getElementById('editor'), {
    value: '<!DOCTYPE html>\n<html>\n<body style="background:#111;color:white">\n<h1>Codoo</h1>\n<input placeholder="Type here">\n</body>\n</html>',
    language: 'html',
    theme: 'vs-dark',
    automaticLayout: true,
    fontSize: 14,
    minimap:{enabled:false},
    wordWrap:'on'
  });
});

// Run code
function runCode() {
  const panel = document.getElementById('runPanel');
  panel.classList.add('show');
  document.getElementById('output').srcdoc = editor.getValue();
}
function closeRun() {
  const panel = document.getElementById('runPanel');
  panel.classList.remove('show');
}

// Copy
function copyCode() { navigator.clipboard.writeText(editor.getValue()); }

// Menu toggle
const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');
menuBtn.onclick = ()=> menu.style.display = menu.style.display==='flex'?'none':'flex';

// Template panel
function openTemplatePanel(buttonsHTML){ 
  const panel = document.getElementById('templatePanel');
  document.getElementById('templateButtons').innerHTML = buttonsHTML;
  panel.style.display = 'flex';
}
function closeTemplatePanel(){ document.getElementById('templatePanel').style.display='none'; }

// Template buttons click
document.querySelectorAll('#menu button[data-snippet]').forEach(btn=>{
  btn.onclick = ()=>{
    let code='';
    switch(btn.dataset.snippet){
      case 'htmlBoiler': code='<!DOCTYPE html>\n<html>\n<head>\n <title>Boilerplate</title>\n</head>\n<body>\n <h1>Hello Codoo</h1>\n</body>\n</html>'; break;
      case 'htmlForm': code='<form><input placeholder="Name"><button>Submit</button></form>'; break;
      case 'htmlGrid': code='<div style="display:grid;grid-template-columns:1fr 1fr;"><div>A</div><div>B</div></div>'; break;
      case 'htmlButtons': code='<button>Click me</button><button>Another</button>'; break;
      case 'htmlTables': code='<table><tr><td>1</td></tr></table>'; break;
      case 'cssFlex': code='body{display:flex;flex-direction:column;}'; break;
      case 'cssGrid': code='body{display:grid;grid-template-columns:1fr 1fr;}'; break;
      case 'cssAnimation': code='h1{animation:fade 2s infinite;}'; break;
      case 'cssButtons': code='button{background:#333;color:white;}'; break;
      case 'cssTheme': code='body{background:#111;color:white;}'; break;
      case 'jsEvents': code='document.querySelector("h1").onclick=()=>alert("Clicked!");'; break;
      case 'jsDOM': code='document.body.innerHTML+="<p>Hello DOM</p>";'; break;
      case 'jsCalc': code='console.log(2+2);'; break;
      case 'jsTodo': code='const list=[];'; break;
      case 'jsForm': code='const form=document.querySelector("form");'; break;
    }
    editor.setValue(code);
    menu.style.display='none';
    closeTemplatePanel();
  }
});
</script>

</body>
</html>
